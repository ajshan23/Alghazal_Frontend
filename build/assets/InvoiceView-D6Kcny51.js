import{ab as R,r as i,j as e,b as D,u as xe,a8 as me,T as J}from"./index-BqYC2zCO.js";import{C as pe}from"./Views-B3egHxO-.js";import{C as k}from"./Card-DiA6JKLe.js";import{B as u}from"./Button-BZH25-Aw.js";import{L as ge}from"./Logo-CQo4yOfo.js";import"./Alert-Praf8Fi9.js";import{A as he}from"./index-BhxlP8yV.js";import{B as be}from"./Badge-CrbEpOhk.js";import"./index-Bm5J6gtn.js";import"./index-o6PoulbO.js";import{D as O}from"./Dialog-C85wTnEL.js";import"./Drawer-3BaRt1RV.js";import"./index-BNWCw_o_.js";import"./FormItem-FeS_vrRF.js";import"./useUniqueId-BmsTzdR7.js";import{I as ye}from"./Input-CF7OdvAt.js";import"./Upload-B1V-WMlx.js";import"./index-fwAOcRNC.js";import{t as m,N as p}from"./toast-BNCR3rph.js";import"./index-BkSrbwb3.js";import"./ScrollBar-bvGQZvnP.js";import"./Select-3fyDv9Rf.js";import"./Tag-DOC98LxQ.js";import{u as ue}from"./useThemeClass-CB8d6Ww5.js";import{a0 as K,ba as je,aa as X,a1 as _,a2 as G,b4 as fe,a6 as Ne,a3 as ke,a9 as ve,a5 as ee,ad as re,a7 as we,ai as De,Y as Se}from"./index-CErL3g3x.js";import{N as Ee}from"./react-number-format.es-BGUL9v2_.js";import{D as B}from"./Dirham-thumb-GsAmv-hi.js";import"./context-CKHslMnf.js";import"./StatusIcon-CrxJz663.js";import"./CloseButton-L6WjsDsk.js";import"./proxy-DBs-aCG0.js";import"./floating-ui.react-DBGHfBho.js";import"./floating-ui.dom-B_iSk-nO.js";import"./index-BLbmKy6n.js";import"./_getPrototype-_N1fRqzo.js";import"./index-Z1Egzvm9.js";import"./index-DtRKDKi1.js";import"./toString-sucKyfO-.js";import"./chainedFunction-BxZSneMW.js";import"./index-BnTamqJo.js";import"./defineProperty-DRmM3rRU.js";import"./typeof-QjJsDpFa.js";import"./hoist-non-react-statics.cjs-7CwaeXnJ.js";const Me=async d=>{var t,a;try{const r=await R.get(`/project/${d}/invoice`);if(!r.data)throw new Error("No data received from server");return r.data.data}catch(r){throw console.error("API Error:",r),new Error(((a=(t=r.response)==null?void 0:t.data)==null?void 0:a.message)||"Failed to fetch invoice data")}},Ce=async d=>{try{return console.log("Downloading invoice PDF for project:",d),(await R.get(`/project/${d}/invoice/pdf`,{responseType:"blob"})).data}catch(t){throw console.error("Error downloading invoice PDF:",t),t}},Ye=async(d,t)=>{try{return(await R.put(`/project/${d}/grn-number`,{grnNumber:t})).data}catch(a){throw console.error("Error adding GRN number:",a),a}},Ie=async(d,t)=>{try{return(await R.patch(`/project/${d}/work-start-date`,{workStartDate:new Date(t).toISOString()})).data}catch(a){throw console.error("Error setting work start date:",a),a}},Pe=async(d,t)=>{try{return(await R.patch(`/project/${d}/work-end-date`,{workEndDate:new Date(t).toISOString()})).data}catch(a){throw console.error("Error setting work end date:",a),a}},Re=async d=>{try{return(await R.get(`/project/${d}/work-duration`)).data}catch(t){throw console.error("Error getting work duration:",t),t}},Te=({isOpen:d,onClose:t,onSave:a,projectId:r,refetch:S,number:c})=>{const[l,g]=i.useState(c||""),[j,b]=i.useState(""),[o,f]=i.useState(!1);i.useEffect(()=>{g(c||""),b("")},[d,c]);const N=Y=>{g(Y.target.value),j&&b("")},E=async Y=>{var s,T,h;if(Y.preventDefault(),!l.trim()){b("GRN number is required");return}if(c&&l===c){m.push(e.jsx(p,{title:"Info",type:"info",duration:2500,children:"GRN number hasn't changed"}),{placement:"top-center"}),t();return}try{f(!0),b(""),await Ye(r,l),S(),a==null||a(l),m.push(e.jsxs(p,{title:"Success",type:"success",duration:2500,children:[c?"GRN number updated":"GRN number saved"," successfully"]}),{placement:"top-center"}),t()}catch(y){const I=((T=(s=y==null?void 0:y.response)==null?void 0:s.data)==null?void 0:T.message)||((h=y==null?void 0:y.data)==null?void 0:h.message)||y.message||"Failed to save GRN number";b(I),m.push(e.jsx(p,{title:"Error",type:"danger",duration:2500,children:I}),{placement:"top-center"})}finally{f(!1)}};return e.jsxs(O,{isOpen:d,onClose:t,onRequestClose:t,width:500,children:[e.jsx("h5",{className:"mb-4",children:c?"Update GRN Number":"Add GRN Number"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{htmlFor:"grnNumber",className:"block mb-2",children:["GRN Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(ye,{id:"grnNumber",placeholder:"Enter GRN number",value:l,onChange:N,disabled:o}),j&&e.jsx("p",{className:"mt-1 text-red-500",children:j})]}),e.jsxs("div",{className:"text-right mt-6",children:[e.jsx(u,{className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:t,disabled:o,children:"Cancel"}),e.jsx(u,{variant:"solid",onClick:E,loading:o,children:o?"Processing...":c?"Update":"Save"})]})]})},We=({isOpen:d,onClose:t,projectId:a,startDate:r,refetch:S})=>{const[c,l]=i.useState(!1),[g,j]=i.useState(r?D(r).format("YYYY-MM-DD"):""),b=async()=>{var o,f;if(!a){m.push(e.jsx(p,{title:"Error",type:"danger",children:"Project ID is required"}));return}if(!g){m.push(e.jsx(p,{title:"Error",type:"danger",children:"Please select a start date"}));return}l(!0);try{await Ie(a,g),m.push(e.jsx(p,{title:"Success",type:"success",children:"Work start date set successfully"})),S(),t()}catch(N){console.error("Error setting work start date:",N);const E=((f=(o=N.response)==null?void 0:o.data)==null?void 0:f.message)||"Failed to set work start date";m.push(e.jsx(p,{title:"Error",type:"danger",children:E}))}finally{l(!1)}};return e.jsx(O,{isOpen:d,onClose:t,onRequestClose:t,width:400,children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Set Work Start Date"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Work Start Date"}),e.jsx("input",{type:"date",value:g,onChange:o=>j(o.target.value),className:"w-full p-2 border border-gray-300 rounded-md",max:D().format("YYYY-MM-DD")})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(u,{onClick:t,variant:"plain",children:"Cancel"}),e.jsx(u,{loading:c,onClick:b,variant:"solid",className:"bg-blue-500 hover:bg-blue-600",children:"Set Start Date"})]})]})})},Fe=({isOpen:d,onClose:t,projectId:a,endDate:r,refetch:S})=>{const[c,l]=i.useState(!1),[g,j]=i.useState(r?D(r).format("YYYY-MM-DD"):""),b=async()=>{var o,f;if(!a){m.push(e.jsx(p,{title:"Error",type:"danger",children:"Project ID is required"}));return}if(!g){m.push(e.jsx(p,{title:"Error",type:"danger",children:"Please select an end date"}));return}l(!0);try{await Pe(a,g),m.push(e.jsx(p,{title:"Success",type:"success",children:"Work end date set successfully"})),S(),t()}catch(N){console.error("Error setting work end date:",N);const E=((f=(o=N.response)==null?void 0:o.data)==null?void 0:f.message)||"Failed to set work end date";m.push(e.jsx(p,{title:"Error",type:"danger",children:E}))}finally{l(!1)}};return e.jsx(O,{isOpen:d,onClose:t,onRequestClose:t,width:400,children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Set Work End Date"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Work End Date"}),e.jsx("input",{type:"date",value:g,onChange:o=>j(o.target.value),className:"w-full p-2 border border-gray-300 rounded-md",max:D().format("YYYY-MM-DD")})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(u,{onClick:t,variant:"plain",children:"Cancel"}),e.jsx(u,{loading:c,onClick:b,variant:"solid",className:"bg-green-500 hover:bg-green-600",children:"Set End Date"})]})]})})},P=({value:d})=>e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx("img",{src:B,alt:"Dirham",className:"w-3.5 h-3.5 inline-block"}),e.jsx(Ee,{displayType:"text",value:d,thousandSeparator:!0,decimalScale:2,fixedDecimalScale:!0})]}),Ae=({products:d,summary:t})=>e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-gray-50 to-slate-50 dark:from-gray-800 dark:to-gray-750",children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider border-r border-gray-200 dark:border-gray-700 w-16",children:"S.No"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider border-r border-gray-200 dark:border-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider border-r border-gray-200 dark:border-gray-700 w-20",children:"Qty"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider border-r border-gray-200 dark:border-gray-700 w-32",children:e.jsxs("span",{className:"inline-flex items-center gap-1 justify-end",children:["Unit Price ",e.jsx("img",{src:B,alt:"Dirham",className:"w-3.5 h-3.5"})]})}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider w-32",children:e.jsxs("span",{className:"inline-flex items-center gap-1 justify-end",children:["Total ",e.jsx("img",{src:B,alt:"Dirham",className:"w-3.5 h-3.5"})]})})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:d.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-400 border-r border-gray-200 dark:border-gray-700",children:a.sno}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-400 border-r border-gray-200 dark:border-gray-700",children:a.description}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-400 border-r border-gray-200 dark:border-gray-700",children:a.qty}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-400 border-r border-gray-200 dark:border-gray-700 text-right",children:e.jsx(P,{value:a.unitPrice})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-400 text-right",children:e.jsx(P,{value:a.total})})]},a.sno))}),e.jsxs("tfoot",{className:"bg-gradient-to-r from-gray-50 to-slate-50 dark:from-gray-800 dark:to-gray-750 border-t-2 border-gray-300 dark:border-gray-600",children:[e.jsxs("tr",{children:[e.jsx("td",{colSpan:3,className:"px-4 py-3 text-sm font-semibold text-gray-700 dark:text-gray-300 text-right border-r border-gray-200 dark:border-gray-700",children:"Subtotal:"}),e.jsx("td",{colSpan:2,className:"px-4 py-3 text-sm font-semibold text-gray-700 dark:text-gray-300 text-right",children:e.jsx(P,{value:t.amount})})]}),e.jsxs("tr",{children:[e.jsx("td",{colSpan:3,className:"px-4 py-3 text-sm font-semibold text-gray-700 dark:text-gray-300 text-right border-r border-gray-200 dark:border-gray-700",children:"VAT (5%):"}),e.jsx("td",{colSpan:2,className:"px-4 py-3 text-sm font-semibold text-gray-700 dark:text-gray-300 text-right",children:e.jsx(P,{value:t.vat})})]}),e.jsxs("tr",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20",children:[e.jsx("td",{colSpan:3,className:"px-4 py-3 text-sm font-bold text-gray-800 dark:text-white text-right border-r border-gray-200 dark:border-gray-700",children:"Total Receivable:"}),e.jsx("td",{colSpan:2,className:"px-4 py-3 text-sm font-bold text-blue-600 dark:text-blue-400 text-right",children:e.jsx(P,{value:t.totalReceivable})})]})]})]})}),Ge=()=>{ue();const d=xe(n=>n.theme.mode),[t,a]=i.useState(!0),[r,S]=i.useState(null),[c,l]=i.useState(null),[g,j]=i.useState(!1),[b,o]=i.useState(!1),[f,N]=i.useState(!1),[E,Y]=i.useState(!1),[s,T]=i.useState(null),{projectId:h}=me(),y=async()=>{try{if(a(!0),l(null),!h)throw new Error("Project ID is required");const n=await Me(h);if(console.log("===================================="),console.log(n),console.log("===================================="),!n||!n.invoiceNumber||!n.vendor||!n.vendee||!Array.isArray(n.products))throw new Error("Invalid invoice data received from server");S(n)}catch(n){console.error("Error fetching invoice data:",n),l(n instanceof Error?n.message:"Failed to load invoice data")}finally{a(!1)}},I=async()=>{if(h)try{const n=await Re(h);T(n.data)}catch(n){console.error("Error fetching work duration:",n)}};i.useEffect(()=>{y()},[h]),i.useEffect(()=>{r&&I()},[r]);const te=async()=>{var n;if(!h){m.push(e.jsx(p,{title:"Error",type:"danger",children:"Project ID is required"}));return}j(!0),l(null);try{const M=await Ce(h),W=window.URL.createObjectURL(new Blob([M])),w=document.createElement("a");w.href=W,w.setAttribute("download",`${r.invoiceNumber} ${r.projectName} -${r.location}.pdf`),document.body.appendChild(w),w.click(),(n=w.parentNode)==null||n.removeChild(w),window.URL.revokeObjectURL(W),m.push(e.jsx(p,{title:"Success",type:"success",children:"PDF downloaded successfully"}))}catch(M){console.error("PDF download error:",M),l("Failed to download PDF"),m.push(e.jsx(p,{title:"Error",type:"danger",children:"Failed to download PDF"}))}finally{j(!1)}},ae=()=>{o(!0)},se=()=>{o(!1)},de=()=>{N(!0)},ne=()=>{Y(!0)},ie=()=>{N(!1)},oe=()=>{Y(!1)},le=n=>{if(n===0)return"Zero AED only";const M=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],W=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],w=["","Ten","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],H=["","Thousand","Million","Billion","Trillion"],L=x=>{if(x===0)return"";let v=[];const Q=Math.floor(x/100);Q>0&&v.push(M[Q]+" Hundred");const C=x%100;if(C>0)if(C<10)v.push(M[C]);else if(C<20)v.push(W[C-10]);else{const ce=Math.floor(C/10),Z=C%10;v.push(w[ce]),Z>0&&v.push(M[Z])}return v.join(" ")},$=Math.floor(n).toString(),A=[];for(let x=$.length;x>0;x-=3)A.push(parseInt($.substring(Math.max(0,x-3),x),10));let q=[];for(let x=0;x<A.length;x++){const v=L(A[x]);v&&q.unshift(v+(H[x]?" "+H[x]:""))}const U=Math.round((n-Math.floor(n))*100);let V="";U>0&&(V=" and "+L(U)+" Fils");const z=q.join(" ")+V+" AED only";return z.charAt(0).toUpperCase()+z.slice(1).toLowerCase()},F=(s==null?void 0:s.workStartDate)&&(s==null?void 0:s.workEndDate);return c?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-850 dark:to-gray-900",children:e.jsx("div",{className:"container mx-auto p-6",children:e.jsxs(k,{className:"text-center p-8 bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"text-red-500 mb-4",children:[e.jsx(K,{className:"text-6xl mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold mb-2",children:"Error Loading Invoice"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:c})]}),e.jsx(u,{className:"mt-4 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700",onClick:y,children:"Retry"})]})})}):r?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-850 dark:to-gray-900 print:bg-white",children:[e.jsx(J,{loading:t,children:e.jsxs("div",{className:"container mx-auto p-6 print:p-0",children:[e.jsx("div",{className:"mb-8 print:mb-4",children:e.jsxs("div",{className:"flex items-center gap-3 mb-6 print:mb-4",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-pink-600 rounded-lg print:bg-purple-500",children:e.jsx(je,{className:"text-2xl text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white print:text-2xl",children:"Invoice Details"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 print:text-sm",children:"View and manage invoice information"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8 mb-8 print:grid-cols-3 print:gap-4 print:mb-4",children:[e.jsx("div",{className:"xl:col-span-1",children:e.jsxs(k,{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700 overflow-hidden print:rounded-none print:shadow-none print:border print:border-gray-300",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-750 p-6 border-b border-gray-200 dark:border-gray-700 print:p-4 print:bg-blue-50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg print:bg-blue-500",children:e.jsx(X,{className:"text-2xl text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white print:text-lg",children:"Company Information"})]})}),e.jsxs("div",{className:"p-6 print:p-4",children:[e.jsx(ge,{className:"mb-6 print:mb-4",mode:d}),e.jsx("div",{className:"space-y-4 print:space-y-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 p-4 rounded-xl border border-blue-200 dark:border-blue-800 print:p-2 print:rounded-none print:border print:border-gray-300",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_,{className:"text-xl text-blue-600 dark:text-blue-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-700 dark:text-gray-300 print:text-sm",children:"Invoice Number"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 print:text-sm",children:r.invoiceNumber})]})]})})})]})]})}),e.jsx("div",{className:"xl:col-span-2",children:e.jsxs(k,{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700 overflow-hidden print:rounded-none print:shadow-none print:border print:border-gray-300",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-gray-800 dark:to-gray-750 p-6 border-b border-gray-200 dark:border-gray-700 print:p-4 print:bg-purple-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-pink-600 rounded-lg print:bg-purple-500",children:e.jsx(K,{className:"text-2xl text-white"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-white print:text-lg",children:["Invoice ",r.invoiceNumber]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 print:text-xs",children:"Invoice Details"})]})]}),e.jsx(be,{content:"Active",className:"px-3 py-1 text-xs font-bold",innerClass:"bg-emerald-500 text-white shadow-lg"})]})}),e.jsx("div",{className:"p-6 print:p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 print:gap-4",children:[e.jsxs("div",{className:"space-y-4 print:space-y-2",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-4 rounded-xl border border-green-200 dark:border-green-800 print:p-2 print:rounded-none print:border print:border-gray-300",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(G,{className:"text-xl text-green-600 dark:text-green-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-700 dark:text-gray-300 print:text-sm",children:"Date"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 print:text-sm",children:D(r.date).format("dddd, DD MMMM, YYYY")})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 p-4 rounded-xl border border-orange-200 dark:border-orange-800 print:p-2 print:rounded-none print:border print:border-gray-300",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(fe,{className:"text-xl text-orange-600 dark:text-orange-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-700 dark:text-gray-300 print:text-sm",children:"Order Number"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 print:text-sm",children:r.orderNumber})]})]})})]}),e.jsxs("div",{className:"space-y-4 print:space-y-2",children:[e.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 p-4 rounded-xl border border-indigo-200 dark:border-indigo-800 print:p-2 print:rounded-none print:border print:border-gray-300",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(he,{size:40,shape:"circle",className:"border-2 border-white shadow-lg print:border print:border-gray-300"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-700 dark:text-gray-300 print:text-sm",children:"Prepared By"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 print:text-sm",children:[r.preparedBy.firstName," ",r.preparedBy.lastName]})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 p-4 rounded-xl border border-blue-200 dark:border-blue-800 print:p-2 print:rounded-none print:border print:border-gray-300",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ne,{className:"text-xl text-blue-600 dark:text-blue-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-700 dark:text-gray-300 print:text-sm",children:"Total Amount"}),e.jsx("p",{className:"text-xl font-bold text-blue-600 dark:text-blue-400 print:text-lg",children:e.jsx(P,{value:r.summary.totalReceivable})})]})]})})]})]})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8 print:grid-cols-2 print:gap-4 print:mb-4",children:[e.jsxs(k,{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700 overflow-hidden print:rounded-none print:shadow-none print:border print:border-gray-300",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-gray-800 dark:to-gray-750 p-6 border-b border-gray-200 dark:border-gray-700 print:p-4 print:bg-green-50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-green-500 to-emerald-600 rounded-lg print:bg-green-500",children:e.jsx(ke,{className:"text-2xl text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white print:text-lg",children:"Vendee Information"})]})}),e.jsx("div",{className:"p-6 print:p-4",children:e.jsxs("div",{className:"space-y-3 print:space-y-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-700 dark:text-gray-300 print:text-sm",children:"Name"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 print:text-sm",children:r.vendee.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-700 dark:text-gray-300 print:text-sm",children:"Address"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 print:text-sm",children:r.vendee.address})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-700 dark:text-gray-300 print:text-sm",children:"PO Box"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 print:text-sm",children:r.vendee.poBox})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-700 dark:text-gray-300 print:text-sm",children:"Phone"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 print:text-sm",children:r.vendee.phone})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-700 dark:text-gray-300 print:text-sm",children:"TRN"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 print:text-sm",children:r.vendee.trn})]})]})})]}),e.jsxs(k,{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700 overflow-hidden print:rounded-none print:shadow-none print:border print:border-gray-300",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-750 p-6 border-b border-gray-200 dark:border-gray-700 print:p-4 print:bg-blue-50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg print:bg-blue-500",children:e.jsx(X,{className:"text-2xl text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white print:text-lg",children:"Vendor Information"})]})}),e.jsx("div",{className:"p-6 print:p-4",children:e.jsxs("div",{className:"space-y-3 print:space-y-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-700 dark:text-gray-300 print:text-sm",children:"Name"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 print:text-sm",children:r.vendor.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-700 dark:text-gray-300 print:text-sm",children:"Address"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 print:text-sm",children:r.vendor.address})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-700 dark:text-gray-300 print:text-sm",children:"PO Box"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 print:text-sm",children:r.vendor.poBox})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-700 dark:text-gray-300 print:text-sm",children:"Phone"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 print:text-sm",children:r.vendor.phone})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-700 dark:text-gray-300 print:text-sm",children:"TRN"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 print:text-sm",children:r.vendor.trn})]})]})})]})]}),e.jsx("div",{className:"mb-8 print:mb-4",children:e.jsxs(k,{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700 overflow-hidden print:rounded-none print:shadow-none print:border print:border-gray-300",children:[e.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 dark:from-gray-800 dark:to-gray-750 p-6 border-b border-gray-200 dark:border-gray-700 print:p-4 print:bg-gray-50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-gray-500 to-slate-600 rounded-lg print:bg-gray-500",children:e.jsx(ve,{className:"text-2xl text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white print:text-lg",children:"Items & Pricing"})]})}),e.jsx("div",{className:"p-6 print:p-4",children:e.jsx(Ae,{products:r.products,summary:r.summary})})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-8 mb-8 print:mb-4",children:e.jsxs(k,{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700 overflow-hidden print:rounded-none print:shadow-none print:border print:border-gray-300",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-gray-800 dark:to-gray-750 p-6 border-b border-gray-200 dark:border-gray-700 print:p-4 print:bg-purple-50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-pink-600 rounded-lg print:bg-purple-500",children:e.jsx(ee,{className:"text-2xl text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white print:text-lg",children:"Work Duration"})]})}),e.jsxs("div",{className:"p-6 print:p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 print:gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 p-4 rounded-xl border border-blue-200 dark:border-blue-800 print:p-2 print:rounded-none print:border print:border-gray-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"text-xl text-blue-600 dark:text-blue-400"}),e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300 print:text-sm",children:"Work Start Date"})]}),e.jsx(u,{size:"xs",variant:"plain",onClick:de,icon:e.jsx(re,{className:"text-sm"}),className:"print:hidden",children:"Edit"})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 print:text-sm",children:s!=null&&s.workStartDate?D(s.workStartDate).format("DD MMMM, YYYY"):"Not set"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-4 rounded-xl border border-green-200 dark:border-green-800 print:p-2 print:rounded-none print:border print:border-gray-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(we,{className:"text-xl text-green-600 dark:text-green-400"}),e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300 print:text-sm",children:"Work End Date"})]}),e.jsx(u,{size:"xs",variant:"plain",onClick:ne,icon:e.jsx(re,{className:"text-sm"}),className:"print:hidden",children:"Edit"})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 print:text-sm",children:s!=null&&s.workEndDate?D(s.workEndDate).format("DD MMMM, YYYY"):"Not set"})]})]}),(s==null?void 0:s.durationInDays)!==null&&e.jsxs("div",{className:"mt-4 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 p-4 rounded-xl border border-amber-200 dark:border-amber-800 print:p-2 print:rounded-none print:border print:border-gray-300",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"text-xl text-amber-600 dark:text-amber-400"}),e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300 print:text-sm",children:"Total Duration"})]}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 print:text-sm",children:[s==null?void 0:s.durationInDays," days"]})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-8 mb-8 print:mb-4",children:e.jsxs(k,{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700 overflow-hidden print:rounded-none print:shadow-none print:border print:border-gray-300",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-gray-800 dark:to-gray-750 p-6 border-b border-gray-200 dark:border-gray-700 print:p-4 print:bg-amber-50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-amber-500 to-orange-600 rounded-lg print:bg-amber-500",children:e.jsx(De,{className:"text-2xl text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white print:text-lg",children:"Payment Information"})]})}),e.jsx("div",{className:"p-6 print:p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 print:gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-2 print:text-sm",children:"Payment Terms"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 print:text-sm",children:r.paymentTerms})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-2 print:text-sm",children:"Amount in Words"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 print:text-sm",children:le(r.summary.totalReceivable)})]})]})})]})}),e.jsx(k,{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700 overflow-hidden print:hidden",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-100 to-indigo-100 dark:from-blue-900/30 dark:to-indigo-900/30 rounded-lg",children:e.jsx(G,{className:"text-2xl text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Invoice Date"}),e.jsx("p",{className:"font-semibold text-gray-700 dark:text-gray-300",children:D(r.date).format("DD MMMM, YYYY")})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[e.jsx(u,{variant:"solid",onClick:ae,icon:e.jsx(_,{}),className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-semibold px-6 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200",children:"Add GRN Number"}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(u,{variant:"solid",loading:g,onClick:te,icon:e.jsx(Se,{}),disabled:!F,className:`bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700 text-white font-semibold px-6 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 ${F?"":"opacity-50 cursor-not-allowed"}`,children:g?"Generating PDF...":"Download Invoice"}),!F&&e.jsx("div",{className:"mt-2 text-sm text-red-500 text-center",children:"Please set both work start and end dates to download the invoice"})]})]})]})})})]})}),e.jsx(Te,{isOpen:b,onClose:se,projectId:h,number:r.vendee.grnNumber,refetch:y}),e.jsx(We,{isOpen:f,onClose:ie,projectId:h,startDate:s==null?void 0:s.workStartDate,refetch:I}),e.jsx(Fe,{isOpen:E,onClose:oe,projectId:h,endDate:s==null?void 0:s.workEndDate,refetch:I})]}):e.jsx(J,{loading:t})},Mr=()=>e.jsx(pe,{className:"h-full",children:e.jsx(k,{className:"h-full",bodyClass:"h-full",children:e.jsx(Ge,{})})});export{Mr as default};
