import{j as e,r as d,T as Q,c as p}from"./index-DGJe0h3_.js";import{T as w,S as M,P as U,C as V}from"./index-BGu1WFOe.js";import{S as W}from"./Select-C04L81V4.js";import{u as q,f as P,g as G,a as J,b as K,c as X}from"./index-BX8TTJWs.js";import{n as Y,aP as Z,aQ as ee}from"./index-DB0cxP-C.js";const{Tr:te,Td:ae,TBody:re}=w,se=x=>{const{columns:c=1,rows:u=10,avatarInColumns:n=[],avatarProps:l}=x;return e.jsx(re,{children:Array.from(new Array(u),(r,s)=>s+0).map(r=>e.jsx(te,{children:Array.from(new Array(c),(s,i)=>i+0).map(s=>e.jsx(ae,{children:e.jsxs("div",{className:"flex flex-auto items-center gap-2",children:[n.includes(s)&&e.jsx("div",{children:e.jsx(M,{variant:"circle",...l})}),e.jsx(M,{})]})},`col-${s}`))},`row-${r}`))})},{Tr:N,Th:le,Td:I,THead:ne,TBody:oe}=w,D=x=>{const{indeterminate:c,onChange:u,onCheckBoxChange:n,onIndeterminateCheckBoxChange:l,...r}=x,s=d.useRef(null);d.useEffect(()=>{typeof c=="boolean"&&s.current&&(s.current.indeterminate=!r.checked&&c)},[s,c]);const i=o=>{u(o),n==null||n(o),l==null||l(o)};return e.jsx(V,{ref:s,className:"mb-0",onChange:(o,b)=>i(b),...r})};function de(x,c){const{skeletonAvatarColumns:u,columns:n=[],data:l=[],loading:r=!1,onCheckBoxChange:s,onIndeterminateCheckBoxChange:i,onPaginationChange:o,onSelectChange:b,onSort:j,pageSizes:C=[10,25,50,100],selectable:T=!1,skeletonAvatarProps:H,pagingData:R={total:0,pageIndex:1,pageSize:10},totalAmount:f}=x,{pageSize:h,pageIndex:k,total:S}=R,[g,z]=d.useState(null),A=d.useMemo(()=>C.map(t=>({value:t,label:`${t} / page`})),[C]),$=(t,a)=>{r||s==null||s(t,a)},O=(t,a)=>{r||i==null||i(t,a)},E=t=>{r||o==null||o(t)},F=t=>{r||b==null||b(Number(t))};d.useEffect(()=>{if(Array.isArray(g)){const t=g.length>0?g[0].desc?"desc":"asc":"",a=g.length>0?g[0].id:"";j==null||j({order:t,key:a})}},[g]);const v=d.useMemo(()=>{const t=n;return T?[{id:"select",header:({table:a})=>e.jsx(D,{checked:a.getIsAllRowsSelected(),indeterminate:a.getIsSomeRowsSelected(),onChange:a.getToggleAllRowsSelectedHandler(),onIndeterminateCheckBoxChange:m=>{O(m.target.checked,a.getRowModel().rows)}}),cell:({row:a})=>e.jsx(D,{checked:a.getIsSelected(),disabled:!a.getCanSelect(),indeterminate:a.getIsSomeSelected(),onChange:a.getToggleSelectedHandler(),onCheckBoxChange:m=>$(m.target.checked,a.original)})},...t]:t},[n,T]),y=q({data:l,columns:v,getCoreRowModel:X(),getFilteredRowModel:K(),getPaginationRowModel:J(),getSortedRowModel:G(),manualPagination:!0,manualSorting:!0,onSortingChange:t=>{z(t)},state:{sorting:g}}),_=()=>{y.resetSorting()},B=()=>{y.toggleAllRowsSelected(!1)};d.useImperativeHandle(c,()=>({resetSorting:_,resetSelected:B}));const L=({column:t})=>{if(!t.getCanSort())return null;const a=t.getIsSorted();return e.jsxs("div",{className:"inline-flex flex-col ml-2",children:[e.jsx(Z,{className:p("w-3 h-3 mb-0.5",a==="asc"?"text-blue-500 dark:text-blue-400":"text-gray-400 dark:text-gray-500")}),e.jsx(ee,{className:p("w-3 h-3",a==="desc"?"text-blue-500 dark:text-blue-400":"text-gray-400 dark:text-gray-500")})]})};return e.jsx(Q,{loading:r&&l.length!==0,type:"cover",children:e.jsxs("div",{className:"rounded-xl overflow-hidden border border-gray-200 dark:border-gray-700 shadow-lg",children:[e.jsxs(w,{className:"border-collapse w-full",children:[e.jsx(ne,{children:y.getHeaderGroups().map(t=>e.jsx(N,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-750",children:t.headers.map(a=>e.jsx(le,{colSpan:a.colSpan,className:"px-6 py-4 text-left font-bold text-gray-700 dark:text-gray-200 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:p("flex items-center",a.column.getCanSort()&&"cursor-pointer select-none",r&&"pointer-events-none"),onClick:a.column.getToggleSortingHandler(),children:[P(a.column.columnDef.header,a.getContext()),a.column.getCanSort()&&e.jsx(L,{column:a.column})]})},a.id))},t.id))}),r&&l.length===0?e.jsx(se,{columns:v.length,rows:R.pageSize,avatarInColumns:u,avatarProps:H}):e.jsx(oe,{children:l.length===0?e.jsx(N,{children:e.jsx(I,{colSpan:v.length,className:"text-center py-12 px-6",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:"p-3 bg-gray-100 dark:bg-gray-800 rounded-full mb-4",children:e.jsx(Y,{className:"text-3xl text-gray-400 dark:text-gray-500"})}),e.jsx("span",{className:"text-lg font-semibold text-gray-600 dark:text-gray-400 mb-1",children:"No data found"}),!r&&e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-500",children:"There are no records to display"})]})})}):y.getRowModel().rows.slice(0,h).map((t,a)=>e.jsx(N,{className:p("transition-colors duration-150",a%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-800/50","hover:bg-blue-50 dark:hover:bg-gray-700/50"),children:t.getVisibleCells().map(m=>e.jsx(I,{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700",children:P(m.column.columnDef.cell,m.getContext())},m.id))},t.id))})]}),l.length>0&&e.jsxs("div",{className:"space-y-4 p-6 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:[f!==void 0&&e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 px-4 py-3 rounded-lg border border-blue-200 dark:border-blue-800 inline-flex items-center shadow-sm",children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300 mr-3",children:"Total Amount:"}),e.jsx("span",{className:"font-bold text-lg text-blue-600 dark:text-blue-400",children:typeof f=="number"?f.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):f||"N/A"})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsx(U,{pageSize:h,currentPage:k,total:S,onChange:E,className:"bg-white dark:bg-gray-800 rounded-lg p-2"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",(k-1)*h+1," to"," ",Math.min(k*h,S)," of ",S," entries"]}),e.jsx("div",{style:{minWidth:130},children:e.jsx(W,{size:"sm",menuPlacement:"top",isSearchable:!1,value:A.filter(t=>t.value===h),options:A,onChange:t=>F(t==null?void 0:t.value),className:"border-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-400"})})]})]})]})]})})}const ue=d.forwardRef(de);export{ue as D};
