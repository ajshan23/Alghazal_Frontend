import{r as B,v as ye,a8 as xe,F as je,j as e}from"./index-BqYC2zCO.js";import{F as fe,a as l}from"./FormItem-FeS_vrRF.js";import{B as F}from"./Button-BZH25-Aw.js";import{S as ve}from"./StickyFooter-DDBoG40l.js";import{F as ke,a as qe,b as g,c as W}from"./formik.esm-a5N8pODv.js";import{c as I,e as H,b as M,f as Q,g as $}from"./index.esm-BBYGt9u8.js";import{t as L,N as _}from"./toast-BNCR3rph.js";import{I as d}from"./Input-CF7OdvAt.js";import{n as O,_ as R,$ as G}from"./index-CErL3g3x.js";import{D as K}from"./index-Bm5J6gtn.js";import{S as Ce}from"./Select-3fyDv9Rf.js";import{f as Ne,e as De,c as we}from"./api-BWDSE-_G.js";import"./Alert-Praf8Fi9.js";import"./index-BhxlP8yV.js";import"./Badge-CrbEpOhk.js";import{C as T}from"./Card-DiA6JKLe.js";import"./index-o6PoulbO.js";import"./Dialog-C85wTnEL.js";import"./Drawer-3BaRt1RV.js";import"./index-BNWCw_o_.js";import"./useUniqueId-BmsTzdR7.js";import"./Upload-B1V-WMlx.js";import"./index-fwAOcRNC.js";import"./index-BkSrbwb3.js";import"./ScrollBar-bvGQZvnP.js";import"./Tag-DOC98LxQ.js";import{N as V}from"./react-number-format.es-BGUL9v2_.js";import"./context-CKHslMnf.js";import"./index-BLbmKy6n.js";import"./proxy-DBs-aCG0.js";import"./cloneDeep-DJN0yfLA.js";import"./hoist-non-react-statics.cjs-7CwaeXnJ.js";import"./StatusIcon-CrxJz663.js";import"./CloseButton-L6WjsDsk.js";import"./chainedFunction-BxZSneMW.js";import"./Views-B3egHxO-.js";import"./toString-sucKyfO-.js";import"./floating-ui.react-DBGHfBho.js";import"./floating-ui.dom-B_iSk-nO.js";import"./defineProperty-DRmM3rRU.js";import"./typeof-QjJsDpFa.js";import"./_getPrototype-_N1fRqzo.js";import"./index-Z1Egzvm9.js";import"./index-DtRKDKi1.js";import"./index-BnTamqJo.js";const Ae=I().shape({dateOfEstimation:Q().required("Estimation Date is required"),workStartDate:Q().required("Work Start Date is required"),workEndDate:Q().required("Work End Date is required"),validUntil:Q().required("Valid Until Date is required"),paymentDueBy:M().required("Payment Due is required"),status:M().required("Status is required"),subject:M().required("Subject is required"),materials:H().of(I().shape({description:M().required("Material name is required"),uom:M().required("Unit of measurement is required"),quantity:$().required("Quantity is required").min(0,"Quantity must be positive").typeError("Quantity must be a number"),unitPrice:$().required("Unit price is required").min(0,"Unit price must be positive").typeError("Unit price must be a number")})),labourCharges:H().of(I().shape({designation:M().required("Designation is required"),days:$().required("Days is required").min(0,"Days must be positive").typeError("Days must be a number"),price:$().required("Price is required").min(0,"Price must be positive").typeError("Price must be a number")})),termsAndConditions:H().of(I().shape({description:M().required("Description is required"),quantity:$().required("Quantity is required").min(0,"Quantity must be positive").typeError("Quantity must be a number"),unitPrice:$().required("Unit price is required").min(0,"Unit price must be positive").typeError("Unit price must be a number")}))}),re=[{value:"nos",label:"Numbers (NOS)"},{value:"ls",label:"Lumpsum (LS)"},{value:"pcs",label:"Pieces (pcs)"},{value:"box",label:"Box (box)"},{value:"dozen",label:"Dozen (dozen)"},{value:"pack",label:"Pack (pack)"},{value:"kg",label:"Kilogram (kg)"},{value:"g",label:"Gram (g)"},{value:"mg",label:"Milligram (mg)"},{value:"lb",label:"Pound (lb)"},{value:"oz",label:"Ounce (oz)"},{value:"ton",label:"Ton (ton)"},{value:"l",label:"Liter (L)"},{value:"ml",label:"Milliliter (mL)"},{value:"gal",label:"Gallon (gal)"},{value:"pt",label:"Pint (pt)"},{value:"qt",label:"Quart (qt)"},{value:"fl_oz",label:"Fluid Ounce (fl oz)"},{value:"m",label:"Meter (m)"},{value:"cm",label:"Centimeter (cm)"},{value:"mm",label:"Millimeter (mm)"},{value:"in",label:"Inch (in)"},{value:"ft",label:"Foot (ft)"},{value:"yd",label:"Yard (yd)"},{value:"sq_m",label:"Square Meter (m²)"},{value:"sq_cm",label:"Square Centimeter (cm²)"},{value:"sq_mm",label:"Square Millimeter (mm²)"},{value:"sq_km",label:"Square Kilometer (km²)"},{value:"sq_in",label:"Square Inch (in²)"},{value:"sq_ft",label:"Square Foot (ft²)"},{value:"sq_yd",label:"Square Yard (yd²)"},{value:"acre",label:"Acre"},{value:"hectare",label:"Hectare (ha)"}],Ee=B.forwardRef((ie,oe)=>{const{onDiscard:se}=ie,ne=ye(),le=xe(),{state:Se}=je(),{projectId:me,estimationId:b}=le,[de,ce]=B.useState({dateOfEstimation:new Date,workStartDate:new Date,workEndDate:new Date(Date.now()+7*24*60*60*1e3),validUntil:new Date(Date.now()+30*24*60*60*1e3),paymentDueBy:"",status:"Draft",materials:[{description:"",uom:"",quantity:0,unitPrice:0,total:0}],labourCharges:[{designation:"",days:0,price:0,total:0}],termsAndConditions:[{description:"",quantity:0,unitPrice:0,total:0}],estimatedAmount:0,quotationAmount:0,subject:""}),[ue,pe]=B.useState(!!b);B.useEffect(()=>{(async()=>{if(b)try{const a=(await Ne(b)).data;ce({dateOfEstimation:new Date(a.createdAt),workStartDate:new Date(a.workStartDate),workEndDate:new Date(a.workEndDate),validUntil:new Date(a.validUntil),paymentDueBy:a.paymentDueBy.toString(),status:a.status||"Draft",materials:a.materials.map(i=>({description:i.description,uom:i.uom,quantity:i.quantity,unitPrice:i.unitPrice,total:i.total})),labourCharges:a.labour.map(i=>({designation:i.designation,days:i.days,price:i.price,total:i.total})),termsAndConditions:a.termsAndConditions.map(i=>({description:i.description,quantity:i.quantity,unitPrice:i.unitPrice,total:i.total})),estimatedAmount:a.estimatedAmount,quotationAmount:a.quotationAmount||0,commissionAmount:a.commissionAmount,profit:a.profit,project:a.project._id,subject:a==null?void 0:a.subject})}catch(m){console.error("Error fetching estimation:",m),L.push(e.jsx(_,{title:"Error",type:"danger",duration:2500,children:"Failed to load estimation data."}),{placement:"top-center"})}finally{pe(!1)}})()},[b]);const ge=async r=>{var m,a;try{const i={project:r.project||me,workStartDate:r.workStartDate,workEndDate:r.workEndDate,validUntil:r.validUntil,paymentDueBy:Number(r.paymentDueBy),materials:r.materials,labour:r.labourCharges,termsAndConditions:r.termsAndConditions,commissionAmount:r.commissionAmount||0,quotationAmount:r.quotationAmount||0,subject:r.subject};console.log("Submitting estimation data:",i),b?(await De(b,i),L.push(e.jsx(_,{title:"Estimation Updated",type:"success",duration:2500,children:"Estimation updated successfully."}),{placement:"top-center"})):(await we(i),L.push(e.jsx(_,{title:"Estimation Created",type:"success",duration:2500,children:"Estimation created successfully."}),{placement:"top-center"})),ne(-1)}catch(i){console.error(`Error ${b?"updating":"creating"} estimation:`,i);let h=`Failed to ${b?"update":"create"} estimation. Please try again.`;(i==null?void 0:i.status)===400?h=b?"Failed to update estimation. Please check your data.":"Only one estimation is allowed per project.":(a=(m=i==null?void 0:i.response)==null?void 0:m.data)!=null&&a.message&&(h=i.response.data.message),L.push(e.jsx(_,{title:"Error",type:"danger",duration:2500,children:h}),{placement:"top-center"})}};return ue?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-850 dark:to-gray-900",children:e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg",children:e.jsx(O,{className:"text-2xl text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:b?"Edit Estimation":"Create Estimation"})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:b?"Update the estimation details for this project":"Create a new estimation for your project"})]}),e.jsx(ke,{innerRef:oe,initialValues:de,validationSchema:Ae,onSubmit:ge,enableReinitialize:!0,children:({values:r,touched:m,errors:a,isSubmitting:i,setFieldValue:h,handleChange:be})=>{B.useEffect(()=>{r.materials.forEach((o,n)=>{const c=parseFloat((o.quantity*o.unitPrice).toFixed(2));o.total!==c&&h(`materials[${n}].total`,c)}),r.labourCharges.forEach((o,n)=>{const c=parseFloat((o.days*o.price).toFixed(2));o.total!==c&&h(`labourCharges[${n}].total`,c)}),r.termsAndConditions.forEach((o,n)=>{const c=parseFloat((o.quantity*o.unitPrice).toFixed(2));o.total!==c&&h(`termsAndConditions[${n}].total`,c)});const s=r.materials.reduce((o,n)=>o+n.quantity*n.unitPrice,0),u=r.labourCharges.reduce((o,n)=>o+n.days*n.price,0),p=r.termsAndConditions.reduce((o,n)=>o+n.quantity*n.unitPrice,0),t=parseFloat((s+u+p).toFixed(2));if(r.estimatedAmount!==t&&h("estimatedAmount",t),r.quotationAmount!==void 0&&r.commissionAmount!==void 0){const o=parseFloat((r.quotationAmount-t-r.commissionAmount).toFixed(2));r.profit!==o&&h("profit",o)}},[r.materials,r.labourCharges,r.termsAndConditions,r.quotationAmount,r.commissionAmount]);const U=s=>{be(s);const{name:u,value:p}=s.target;h(u,parseFloat(p)||0)};return e.jsx(qe,{children:e.jsxs(fe,{children:[e.jsx(T,{className:"mb-6 bg-gradient-to-br from-white via-gray-50 to-white dark:from-gray-800 dark:via-gray-850 dark:to-gray-900 border-2 border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg",children:e.jsx(O,{className:"text-2xl text-white"})}),e.jsx("h5",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Work Details"})]}),e.jsx("p",{className:"mb-6 text-gray-600 dark:text-gray-400",children:"Section to configure client and work information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(l,{label:"Work Start Date *",invalid:!!a.workStartDate&&m.workStartDate,errorMessage:a.workStartDate,children:e.jsx(g,{name:"workStartDate",children:({field:s,form:u})=>e.jsx(K,{placeholder:"Select date",value:s.value,onChange:p=>{u.setFieldValue(s.name,p)},minDate:r.dateOfEstimation})})}),e.jsx(l,{label:"Work End Date *",invalid:!!a.workEndDate&&m.workEndDate,errorMessage:a.workEndDate,children:e.jsx(g,{name:"workEndDate",children:({field:s,form:u})=>e.jsx(K,{placeholder:"Select date",value:s.value,onChange:p=>{u.setFieldValue(s.name,p)},minDate:r.workStartDate})})}),e.jsx(l,{label:"Valid Until *",invalid:!!a.validUntil&&m.validUntil,errorMessage:a.validUntil,children:e.jsx(g,{name:"validUntil",children:({field:s,form:u})=>e.jsx(K,{placeholder:"Select date",value:s.value,onChange:p=>{u.setFieldValue(s.name,p)},minDate:r.dateOfEstimation})})}),e.jsx(l,{label:"Payment Due By *",invalid:!!a.paymentDueBy&&m.paymentDueBy,errorMessage:a.paymentDueBy,children:e.jsx(g,{type:"number",name:"paymentDueBy",placeholder:"Payment Due By",component:d})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:e.jsx(l,{label:"Subject *",invalid:!!a.subject&&m.subject,errorMessage:a.subject,children:e.jsx(g,{type:"text",name:"subject",value:r.subject,placeholder:"Subject",textArea:!0,component:d})})})]})}),e.jsx(T,{className:"mb-6 bg-gradient-to-br from-white via-gray-50 to-white dark:from-gray-800 dark:via-gray-850 dark:to-gray-900 border-2 border-purple-200 dark:border-purple-800",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-pink-600 rounded-lg",children:e.jsx(O,{className:"text-2xl text-white"})}),e.jsx("h5",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Materials"})]}),e.jsx("p",{className:"mb-6 text-gray-600 dark:text-gray-400",children:"List of materials required for the project"}),e.jsx(W,{name:"materials",children:({push:s,remove:u})=>e.jsxs("div",{className:"space-y-4",children:[r.materials.map((p,t)=>{var o,n,c,y,x,j,f,v,k,q,C,N,D,w,A,E,S,P,Y,J,X,Z,ee,te;return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end border-b pb-4 border-gray-200 dark:border-gray-700",children:[e.jsx(l,{label:`Material ${t+1}`,invalid:!!((n=(o=a.materials)==null?void 0:o[t])!=null&&n.description)&&((y=(c=m.materials)==null?void 0:c[t])==null?void 0:y.description),errorMessage:(j=(x=a.materials)==null?void 0:x[t])==null?void 0:j.description,children:e.jsx(g,{type:"text",name:`materials[${t}].description`,placeholder:"Material name",component:d})}),e.jsx(l,{label:"UOM",invalid:!!((v=(f=a.materials)==null?void 0:f[t])!=null&&v.uom)&&((q=(k=m.materials)==null?void 0:k[t])==null?void 0:q.uom),errorMessage:(N=(C=a.materials)==null?void 0:C[t])==null?void 0:N.uom,children:e.jsx(g,{name:`materials[${t}].uom`,children:({field:ae,form:he})=>e.jsx(Ce,{options:re,value:re.find(z=>z.value===ae.value)||null,onChange:z=>{he.setFieldValue(ae.name,(z==null?void 0:z.value)||"")},placeholder:"Select unit"})})}),e.jsx(l,{label:"Quantity",invalid:!!((w=(D=a.materials)==null?void 0:D[t])!=null&&w.quantity)&&((E=(A=m.materials)==null?void 0:A[t])==null?void 0:E.quantity),errorMessage:(P=(S=a.materials)==null?void 0:S[t])==null?void 0:P.quantity,children:e.jsx(g,{type:"number",name:`materials[${t}].quantity`,placeholder:"Quantity",component:d,min:0,step:"0.01",onChange:U})}),e.jsx(l,{label:"Unit Price",invalid:!!((J=(Y=a.materials)==null?void 0:Y[t])!=null&&J.unitPrice)&&((Z=(X=m.materials)==null?void 0:X[t])==null?void 0:Z.unitPrice),errorMessage:(te=(ee=a.materials)==null?void 0:ee[t])==null?void 0:te.unitPrice,children:e.jsx(g,{type:"number",name:`materials[${t}].unitPrice`,placeholder:"Unit price",component:d,min:0,step:"0.01",onChange:U})}),e.jsx(l,{label:"Total",children:e.jsx(d,{readOnly:!0,value:p.total,placeholder:"Total"})}),e.jsx("div",{className:"flex justify-end",children:r.materials.length>1&&e.jsx(F,{type:"button",size:"sm",variant:"plain",color:"red",icon:e.jsx(R,{}),onClick:()=>u(t)})})]},t)}),e.jsx(F,{type:"button",size:"sm",variant:"solid",icon:e.jsx(G,{}),onClick:()=>s({description:"",uom:"",quantity:0,unitPrice:0,total:0}),className:"bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white",children:"Add Material"})]})})]})}),e.jsx(T,{className:"mb-6 bg-gradient-to-br from-white via-gray-50 to-white dark:from-gray-800 dark:via-gray-850 dark:to-gray-900 border-2 border-green-200 dark:border-green-800",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-green-500 to-teal-600 rounded-lg",children:e.jsx(O,{className:"text-2xl text-white"})}),e.jsx("h5",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Labour Charges"})]}),e.jsx("p",{className:"mb-6 text-gray-600 dark:text-gray-400",children:"List of labour charges for the project"}),e.jsx(W,{name:"labourCharges",children:({push:s,remove:u})=>e.jsxs("div",{className:"space-y-4",children:[r.labourCharges.map((p,t)=>{var o,n,c,y,x,j,f,v,k,q,C,N,D,w,A,E,S,P;return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end border-b pb-4 border-gray-200 dark:border-gray-700",children:[e.jsx(l,{label:`Designation ${t+1}`,invalid:!!((n=(o=a.labourCharges)==null?void 0:o[t])!=null&&n.designation)&&((y=(c=m.labourCharges)==null?void 0:c[t])==null?void 0:y.designation),errorMessage:(j=(x=a.labourCharges)==null?void 0:x[t])==null?void 0:j.designation,children:e.jsx(g,{type:"text",name:`labourCharges[${t}].designation`,placeholder:"Designation",component:d})}),e.jsx(l,{label:"Days",invalid:!!((v=(f=a.labourCharges)==null?void 0:f[t])!=null&&v.days)&&((q=(k=m.labourCharges)==null?void 0:k[t])==null?void 0:q.days),errorMessage:(N=(C=a.labourCharges)==null?void 0:C[t])==null?void 0:N.days,children:e.jsx(g,{type:"number",name:`labourCharges[${t}].days`,placeholder:"Days",component:d,min:0,step:"0.01",onChange:U})}),e.jsx(l,{label:"Price",invalid:!!((w=(D=a.labourCharges)==null?void 0:D[t])!=null&&w.price)&&((E=(A=m.labourCharges)==null?void 0:A[t])==null?void 0:E.price),errorMessage:(P=(S=a.labourCharges)==null?void 0:S[t])==null?void 0:P.price,children:e.jsx(g,{type:"number",name:`labourCharges[${t}].price`,placeholder:"Price per day",component:d,min:0,step:"0.01",onChange:U})}),e.jsx(l,{label:"Total",children:e.jsx(d,{readOnly:!0,value:p.total,placeholder:"Total"})}),e.jsx("div",{className:"flex justify-end",children:r.labourCharges.length>1&&e.jsx(F,{type:"button",size:"sm",variant:"plain",color:"red",icon:e.jsx(R,{}),onClick:()=>u(t)})})]},t)}),e.jsx(F,{type:"button",size:"sm",variant:"solid",icon:e.jsx(G,{}),onClick:()=>s({designation:"",days:0,price:0,total:0}),className:"bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 text-white",children:"Add Labour Charge"})]})})]})}),e.jsx(T,{className:"mb-6 bg-gradient-to-br from-white via-gray-50 to-white dark:from-gray-800 dark:via-gray-850 dark:to-gray-900 border-2 border-orange-200 dark:border-orange-800",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-orange-500 to-red-600 rounded-lg",children:e.jsx(O,{className:"text-2xl text-white"})}),e.jsx("h5",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Terms & Conditions"})]}),e.jsx("p",{className:"mb-6 text-gray-600 dark:text-gray-400",children:"Additional terms and conditions for the project"}),e.jsx(W,{name:"termsAndConditions",children:({push:s,remove:u})=>e.jsxs("div",{className:"space-y-4",children:[r.termsAndConditions.map((p,t)=>{var o,n,c,y,x,j,f,v,k,q,C,N,D,w,A,E,S,P;return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end border-b pb-4 border-gray-200 dark:border-gray-700",children:[e.jsx(l,{label:`Description ${t+1}`,invalid:!!((n=(o=a.termsAndConditions)==null?void 0:o[t])!=null&&n.description)&&((y=(c=m.termsAndConditions)==null?void 0:c[t])==null?void 0:y.description),errorMessage:(j=(x=a.termsAndConditions)==null?void 0:x[t])==null?void 0:j.description,children:e.jsx(g,{type:"text",name:`termsAndConditions[${t}].description`,placeholder:"Description",component:d})}),e.jsx(l,{label:"Quantity",invalid:!!((v=(f=a.termsAndConditions)==null?void 0:f[t])!=null&&v.quantity)&&((q=(k=m.termsAndConditions)==null?void 0:k[t])==null?void 0:q.quantity),errorMessage:(N=(C=a.termsAndConditions)==null?void 0:C[t])==null?void 0:N.quantity,children:e.jsx(g,{type:"number",name:`termsAndConditions[${t}].quantity`,placeholder:"Quantity",component:d,min:0,step:"0.01",onChange:U})}),e.jsx(l,{label:"Unit Price",invalid:!!((w=(D=a.termsAndConditions)==null?void 0:D[t])!=null&&w.unitPrice)&&((E=(A=m.termsAndConditions)==null?void 0:A[t])==null?void 0:E.unitPrice),errorMessage:(P=(S=a.termsAndConditions)==null?void 0:S[t])==null?void 0:P.unitPrice,children:e.jsx(g,{type:"number",name:`termsAndConditions[${t}].unitPrice`,placeholder:"Unit price",component:d,min:0,step:"0.01",onChange:U})}),e.jsx(l,{label:"Total",children:e.jsx(d,{readOnly:!0,value:p.total,placeholder:"Total"})}),e.jsx("div",{className:"flex justify-end",children:r.termsAndConditions.length>1&&e.jsx(F,{type:"button",size:"sm",variant:"plain",color:"red",icon:e.jsx(R,{}),onClick:()=>u(t)})})]},t)}),e.jsx(F,{type:"button",size:"sm",variant:"solid",icon:e.jsx(G,{}),onClick:()=>s({description:"",quantity:0,unitPrice:0,total:0}),className:"bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white",children:"Add Term"})]})})]})}),e.jsx(T,{className:"mb-6 bg-gradient-to-br from-white via-gray-50 to-white dark:from-gray-800 dark:via-gray-850 dark:to-gray-900 border-2 border-indigo-200 dark:border-indigo-800",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-indigo-500 to-blue-600 rounded-lg",children:e.jsx(O,{className:"text-2xl text-white"})}),e.jsx("h5",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Summary"})]}),e.jsx("p",{className:"mb-6 text-gray-600 dark:text-gray-400",children:"Final amounts and approvals"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(l,{label:"Estimated Amount",children:e.jsx("div",{className:"relative",children:e.jsx(V,{customInput:d,readOnly:!0,name:"estimatedAmount",value:r.estimatedAmount,placeholder:"Estimated amount",thousandSeparator:!0,decimalScale:2})})}),e.jsx(l,{label:"Quotation Amount (Optional)",children:e.jsx("div",{className:"relative",children:e.jsx(V,{customInput:d,type:"text",name:"quotationAmount",placeholder:"Quotation amount",thousandSeparator:!0,decimalScale:2,onValueChange:s=>{h("quotationAmount",s.floatValue||0)},value:r.quotationAmount})})}),e.jsx(l,{label:"Commission Amount (Optional)",children:e.jsx("div",{className:"relative",children:e.jsx(V,{customInput:d,type:"text",name:"commissionAmount",placeholder:"Commission amount",thousandSeparator:!0,prefix:"$",decimalScale:2,onValueChange:s=>{h("commissionAmount",s.floatValue||0)},value:r.commissionAmount})})}),r.quotationAmount!==void 0&&r.commissionAmount!==void 0&&e.jsx(l,{label:"Profit",children:e.jsx("div",{className:"relative",children:e.jsx(V,{customInput:d,readOnly:!0,name:"profit",value:r.profit||0,placeholder:"Profit",thousandSeparator:!0,prefix:"$",decimalScale:2})})})]})]})}),e.jsxs(ve,{className:"-mx-8 px-8 flex items-center justify-between py-4 bg-gradient-to-r from-gray-50 to-slate-50 dark:from-gray-800/50 dark:to-slate-800/50 border-t border-gray-200 dark:border-gray-700",stickyClass:"border-t bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[e.jsx("div",{children:e.jsx(F,{size:"sm",className:"ltr:mr-3 rtl:ml-3",type:"button",onClick:se,variant:"plain",children:"Discard"})}),e.jsx("div",{className:"md:flex grid-2 gap-2",children:e.jsx("div",{className:"md:flex",children:e.jsx(F,{size:"sm",variant:"solid",loading:i,type:"submit",className:"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white font-semibold",children:b?"Update Estimation":"Create Estimation"})})})]})]})})}})]})})});Ee.displayName="EstimationForm";export{Ee as default};
