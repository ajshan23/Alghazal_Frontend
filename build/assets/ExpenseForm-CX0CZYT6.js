import{a8 as fe,v as Ne,r as j,j as e}from"./index-cbxZr22l.js";import{F as ve,a as ke,c as ce,b as p}from"./formik.esm-BL5vnelG.js";import{c as J,e as me,g as W,b as f,h as Ee,f as we}from"./index.esm-IKt9PIYR.js";import"./Alert-CSp5bS7v.js";import"./index-5KOQOspk.js";import"./Badge-DfD0Ukso.js";import{B as G}from"./Button-FHJPdulA.js";import{D as De}from"./index-CpMcTudo.js";import"./Card-RZl4E4-O.js";import"./index-CX5Y9eeL.js";import"./Dialog-OmmgehMy.js";import"./Drawer-Dn9ylrlH.js";import"./index-BM7LESIb.js";import{a as m}from"./FormItem-Dsb0hqaN.js";import"./useUniqueId-uw_CuIVG.js";import{I as u}from"./Input-CoANB9Wy.js";import"./Upload-DyKyTg7Q.js";import"./index-BLEb6Y8m.js";import{t as N,N as v}from"./toast-BCRt4NsN.js";import"./index-B6FuZSSV.js";import"./ScrollBar-B_8Ws9P0.js";import"./Select-DnpJ3Vfh.js";import"./Tag-DRJajbyJ.js";import{_ as pe,$ as ue}from"./index-DGePi-hy.js";import{g as qe,f as Se,u as Pe,c as Me}from"./api-B946-kVJ.js";import"./cloneDeep-DJN0yfLA.js";import"./hoist-non-react-statics.cjs-85N_kEkV.js";import"./StatusIcon-CfTAV1XC.js";import"./CloseButton-BgX1UjTO.js";import"./proxy-CCW0hh_w.js";import"./floating-ui.react-CXyQfini.js";import"./floating-ui.dom-B_iSk-nO.js";import"./index-pMPtRiQM.js";import"./context-Ci1lPV1_.js";import"./Views-B4cM7RDw.js";import"./_getPrototype-DErBkxwa.js";import"./index-DdVDk-x0.js";import"./index-BUmdAIPo.js";import"./toString-DDHIFlh6.js";import"./chainedFunction-BxZSneMW.js";import"./index-C8fXiORa.js";import"./defineProperty-DRmM3rRU.js";import"./typeof-QjJsDpFa.js";const $e=J().shape({materials:me().of(J().shape({description:f().required("Description is required"),date:we().required("Date is required"),invoiceNo:f().required("Invoice number is required"),amount:W().min(0,"Amount must be positive").required("Amount is required"),supplierName:f(),supplierMobile:f(),supplierEmail:f().email("Invalid email format"),file:Ee().nullable().test("fileSize","File too large (max 5MB)",c=>c?c.size<=5*1024*1024:!0).test("fileType","Unsupported file type",c=>c?["application/pdf","image/jpeg","image/png"].includes(c.type):!0)})),miscellaneous:me().of(J().shape({description:f().required("Description is required"),quantity:W().min(.01,"Quantity must be at least 0.01").required("Quantity is required"),unitPrice:W().min(.01,"Unit price must be at least 0.01").required("Unit price is required")})),laborDetails:J().required("Labor details are required")}),Nt=()=>{const{projectId:c,expenseId:y}=fe(),Q=Ne(),[l,xe]=j.useState(null),[ge,X]=j.useState({materials:[{description:"",date:new Date,invoiceNo:"",amount:0,supplierName:"",supplierMobile:"",supplierEmail:"",documentUrl:void 0,documentKey:void 0,file:null}],miscellaneous:[{description:"",quantity:1,unitPrice:0,total:0}],laborDetails:{workers:[],driver:null,totalLaborCost:0},totalMaterialCost:0,totalMiscellaneousCost:0}),[ye,z]=j.useState(!0),[Y,Z]=j.useState(!1),[K,he]=j.useState(!1);j.useEffect(()=>{(async()=>{var d;try{if(z(!0),!c){N.push(e.jsx(v,{title:"Error",type:"danger",children:"Project ID is missing"})),z(!1);return}const s=await qe(c);if(xe(s.data),y){he(!0);const r=await Se(y);console.log("API Response:",JSON.stringify(r.data,null,2));const x=r.data.materials.map(a=>{const o=a._doc||a.__parentArray||a;return{description:o.description,date:new Date(o.date),invoiceNo:o.invoiceNo,amount:o.amount,supplierName:o.supplierName||"",supplierMobile:o.supplierMobile||"",supplierEmail:o.supplierEmail||"",documentUrl:o.documentUrl,documentKey:o.documentKey,file:null}}),i=((d=r.data.miscellaneous)==null?void 0:d.map(a=>({description:a.description,quantity:a.quantity,unitPrice:a.unitPrice,total:a.total})))||[{description:"",quantity:1,unitPrice:0,total:0}];X({materials:x,miscellaneous:i,laborDetails:r.data.laborDetails,totalMaterialCost:r.data.totalMaterialCost,totalMiscellaneousCost:r.data.totalMiscellaneousCost||0})}else X(r=>({...r,laborDetails:s.data}))}catch(s){console.error("Error fetching data:",s),N.push(e.jsx(v,{title:"Error",type:"danger",children:"Failed to load required data. Please try again."}))}finally{z(!1)}})()},[c,y]);const be=async n=>{var d,s;Z(!0);try{const r=new FormData,x=n.materials.map((a,o)=>({description:a.description,date:a.date.toISOString(),invoiceNo:a.invoiceNo,amount:Number(a.amount),supplierName:a.supplierName||void 0,supplierMobile:a.supplierMobile||void 0,supplierEmail:a.supplierEmail||void 0,documentUrl:a.documentUrl,documentKey:a.documentKey})),i=n.miscellaneous.map(a=>({description:a.description,quantity:Number(a.quantity),unitPrice:Number(a.unitPrice),total:Number(a.quantity)*Number(a.unitPrice)}));if(r.append("materials",JSON.stringify(x)),r.append("miscellaneous",JSON.stringify(i)),r.append("laborDetails",JSON.stringify(n.laborDetails)),n.materials.forEach((a,o)=>{if(a.file){const t=`material-${o}-${a.file.name}`;r.append("files",a.file,t)}}),K&&y)await Pe(y,r),N.push(e.jsx(v,{title:"Success",type:"success",children:"Expense updated successfully"}));else{if(!c){N.push(e.jsx(v,{title:"Error",type:"danger",children:"Project ID is missing"}));return}await Me(c,r),N.push(e.jsx(v,{title:"Success",type:"success",children:"Expense created successfully"}))}Q(`/app/expense-view/${y}`)}catch(r){const x=((s=(d=r.response)==null?void 0:d.data)==null?void 0:s.message)||r.message||"Failed to process expense";N.push(e.jsx(v,{title:"Error",type:"danger",children:x}),{placement:"top-center"})}finally{Z(!1)}},je=(n,d)=>(n*d).toFixed(2);return ye?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 dark:border-blue-400"})}):c?e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:K?"Edit Expense":"Create New Expense"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:K?"Update the expense details below":"Fill in the expense details below"})]}),e.jsx(ve,{initialValues:ge,validationSchema:$e,onSubmit:be,enableReinitialize:!0,children:({values:n,setFieldValue:d,errors:s,touched:r})=>{var x;return e.jsxs(ke,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"Material Expenses"}),e.jsx(ce,{name:"materials",children:({push:i,remove:a})=>e.jsxs("div",{className:"space-y-4",children:[n.materials.map((o,t)=>{var k,E,w,D,q,S,P,M,$,C,I,A,F,U,T,L,R,O,h,g,b,V,ee,te,ae,re,se,ie,le,ne,oe,de;return e.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(m,{label:"Description",invalid:((E=(k=s.materials)==null?void 0:k[t])==null?void 0:E.description)&&((D=(w=r.materials)==null?void 0:w[t])==null?void 0:D.description),errorMessage:(S=(q=s.materials)==null?void 0:q[t])==null?void 0:S.description,children:e.jsx(p,{name:`materials[${t}].description`,as:u,placeholder:"Material description"})}),e.jsx(m,{label:"Date",invalid:((M=(P=s.materials)==null?void 0:P[t])==null?void 0:M.date)&&((C=($=r.materials)==null?void 0:$[t])==null?void 0:C.date),children:e.jsx(p,{name:`materials[${t}].date`,children:({field:_,form:H})=>e.jsx(De,{placeholder:"Select date",value:_.value,onChange:B=>H.setFieldValue(_.name,B)})})}),e.jsx(m,{label:"Invoice Number",invalid:((A=(I=s.materials)==null?void 0:I[t])==null?void 0:A.invoiceNo)&&((U=(F=r.materials)==null?void 0:F[t])==null?void 0:U.invoiceNo),errorMessage:(L=(T=s.materials)==null?void 0:T[t])==null?void 0:L.invoiceNo,children:e.jsx(p,{name:`materials[${t}].invoiceNo`,as:u,placeholder:"Invoice number"})}),e.jsx(m,{label:"Amount (AED)",invalid:((O=(R=s.materials)==null?void 0:R[t])==null?void 0:O.amount)&&((g=(h=r.materials)==null?void 0:h[t])==null?void 0:g.amount),errorMessage:(V=(b=s.materials)==null?void 0:b[t])==null?void 0:V.amount,children:e.jsx(p,{name:`materials[${t}].amount`,type:"number",as:u,placeholder:"Amount",min:"0",step:"0.01"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[e.jsx(m,{label:"Supplier Name",children:e.jsx(p,{name:`materials[${t}].supplierName`,as:u,placeholder:"Supplier name"})}),e.jsx(m,{label:"Supplier Mobile",children:e.jsx(p,{name:`materials[${t}].supplierMobile`,as:u,placeholder:"Supplier mobile"})}),e.jsx(m,{label:"Supplier Email",invalid:((te=(ee=s.materials)==null?void 0:ee[t])==null?void 0:te.supplierEmail)&&((re=(ae=r.materials)==null?void 0:ae[t])==null?void 0:re.supplierEmail),errorMessage:(ie=(se=s.materials)==null?void 0:se[t])==null?void 0:ie.supplierEmail,children:e.jsx(p,{name:`materials[${t}].supplierEmail`,as:u,placeholder:"Supplier email",type:"email"})})]}),e.jsx("div",{className:"mt-4",children:e.jsxs(m,{label:"Document Attachment",invalid:(ne=(le=s.materials)==null?void 0:le[t])==null?void 0:ne.file,errorMessage:(de=(oe=s.materials)==null?void 0:oe[t])==null?void 0:de.file,children:[e.jsx("input",{type:"file",onChange:_=>{var B;const H=((B=_.target.files)==null?void 0:B[0])||null;d(`materials[${t}].file`,H)},className:`block w-full text-sm text-gray-500\r
                                file:mr-4 file:py-2 file:px-4\r
                                file:rounded-md file:border-0\r
                                file:text-sm file:font-semibold\r
                                file:bg-blue-50 file:text-blue-700\r
                                hover:file:bg-blue-100\r
                                dark:file:bg-blue-900/30 dark:file:text-blue-300\r
                                dark:hover:file:bg-blue-900/20`,accept:".pdf,.jpg,.jpeg,.png"}),o.documentUrl&&!o.file&&e.jsxs("div",{className:"mt-2",children:[e.jsx("a",{href:o.documentUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:"View Current Document"}),e.jsx("button",{type:"button",onClick:()=>{d(`materials[${t}].documentUrl`,void 0),d(`materials[${t}].documentKey`,void 0)},className:"ml-4 text-sm text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:"Remove Document"})]}),o.file&&e.jsxs("div",{className:"mt-2 text-sm text-green-600 dark:text-green-400",children:["New file selected: ",o.file.name,e.jsx("button",{type:"button",onClick:()=>{d(`materials[${t}].file`,null)},className:"ml-4 text-sm text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:"Remove"})]})]})}),n.materials.length>1&&e.jsx("div",{className:"flex justify-end mt-4",children:e.jsxs("button",{type:"button",onClick:()=>a(t),className:"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 flex items-center",children:[e.jsx(pe,{className:"mr-1"}),"Remove Item"]})})]},t)}),e.jsxs("button",{type:"button",onClick:()=>i({description:"",date:new Date,invoiceNo:"",amount:0,supplierName:"",supplierMobile:"",supplierEmail:"",file:null}),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none dark:bg-blue-500 dark:hover:bg-blue-600",children:[e.jsx(ue,{className:"mr-1"}),"Add Material"]})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"Miscellaneous Expenses"}),e.jsx(ce,{name:"miscellaneous",children:({push:i,remove:a})=>e.jsxs("div",{className:"space-y-4",children:[n.miscellaneous.map((o,t)=>{var k,E,w,D,q,S,P,M,$,C,I,A,F,U,T,L,R,O;return e.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(m,{label:"Description",invalid:((E=(k=s.miscellaneous)==null?void 0:k[t])==null?void 0:E.description)&&((D=(w=r.miscellaneous)==null?void 0:w[t])==null?void 0:D.description),errorMessage:(S=(q=s.miscellaneous)==null?void 0:q[t])==null?void 0:S.description,children:e.jsx(p,{name:`miscellaneous[${t}].description`,as:u,placeholder:"Expense description"})}),e.jsx(m,{label:"Quantity",invalid:((M=(P=s.miscellaneous)==null?void 0:P[t])==null?void 0:M.quantity)&&((C=($=r.miscellaneous)==null?void 0:$[t])==null?void 0:C.quantity),errorMessage:(A=(I=s.miscellaneous)==null?void 0:I[t])==null?void 0:A.quantity,children:e.jsx(p,{name:`miscellaneous[${t}].quantity`,type:"number",as:u,placeholder:"Quantity",min:"0.01",step:"0.01",onChange:h=>{const g=parseFloat(h.target.value)||0,b=parseFloat(n.miscellaneous[t].unitPrice.toString())||0;d(`miscellaneous[${t}].quantity`,g),d(`miscellaneous[${t}].total`,g*b)}})}),e.jsx(m,{label:"Unit Price (AED)",invalid:((U=(F=s.miscellaneous)==null?void 0:F[t])==null?void 0:U.unitPrice)&&((L=(T=r.miscellaneous)==null?void 0:T[t])==null?void 0:L.unitPrice),errorMessage:(O=(R=s.miscellaneous)==null?void 0:R[t])==null?void 0:O.unitPrice,children:e.jsx(p,{name:`miscellaneous[${t}].unitPrice`,type:"number",as:u,placeholder:"Unit price",min:"0.01",step:"0.01",onChange:h=>{const g=parseFloat(h.target.value)||0,b=parseFloat(n.miscellaneous[t].quantity.toString())||0;d(`miscellaneous[${t}].unitPrice`,g),d(`miscellaneous[${t}].total`,b*g)}})})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Total"}),e.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["AED ",je(parseFloat(n.miscellaneous[t].quantity.toString())||0,parseFloat(n.miscellaneous[t].unitPrice.toString())||0)]})]})}),n.miscellaneous.length>1&&e.jsx("div",{className:"flex justify-end mt-4",children:e.jsxs("button",{type:"button",onClick:()=>a(t),className:"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 flex items-center",children:[e.jsx(pe,{className:"mr-1"}),"Remove Item"]})})]},t)}),e.jsxs("button",{type:"button",onClick:()=>i({description:"",quantity:1,unitPrice:0,total:0}),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none dark:bg-blue-500 dark:hover:bg-blue-600",children:[e.jsx(ue,{className:"mr-1"}),"Add Miscellaneous Expense"]})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"Labor Details"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-3 text-gray-900 dark:text-gray-100",children:"Workers"}),(x=l==null?void 0:l.workers)!=null&&x.length?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Days Present"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Daily Salary"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Total"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:l.workers.map((i,a)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[i.profileImage&&e.jsx("img",{className:"h-10 w-10 rounded-full mr-3",src:i.profileImage,alt:`${i.firstName} ${i.lastName}`}),e.jsxs("div",{className:"text-gray-900 dark:text-gray-100",children:[i.firstName," ",i.lastName]})]})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-500 dark:text-gray-400",children:i.daysPresent}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-gray-500 dark:text-gray-400",children:["AED ",i.dailySalary.toFixed(2)]}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-gray-500 dark:text-gray-400",children:["AED ",i.totalSalary.toFixed(2)]})]},a))})]})}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No workers assigned to this project"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-3 text-gray-900 dark:text-gray-100",children:"Driver"}),l!=null&&l.driver?e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[l.driver.profileImage&&e.jsx("img",{className:"h-12 w-12 rounded-full",src:l.driver.profileImage,alt:`${l.driver.firstName} ${l.driver.lastName}`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:[l.driver.firstName," ",l.driver.lastName]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Days Present"}),e.jsx("div",{className:"text-gray-900 dark:text-gray-100",children:l.driver.daysPresent})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Daily Salary"}),e.jsxs("div",{className:"text-gray-900 dark:text-gray-100",children:["AED ",l.driver.dailySalary.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total"}),e.jsxs("div",{className:"text-gray-900 dark:text-gray-100",children:["AED ",l.driver.totalSalary.toFixed(2)]})]})]})]})]}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No driver assigned to this project"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"Expense Summary"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Material Cost"}),e.jsxs("div",{className:"mt-1 text-2xl font-semibold text-gray-900 dark:text-gray-100",children:["AED ",n.materials.reduce((i,a)=>i+Number(a.amount),0).toFixed(2)]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Misc Cost"}),e.jsxs("div",{className:"mt-1 text-2xl font-semibold text-gray-900 dark:text-gray-100",children:["AED ",n.miscellaneous.reduce((i,a)=>i+Number(a.quantity)*Number(a.unitPrice),0).toFixed(2)]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Labor Cost"}),e.jsxs("div",{className:"mt-1 text-2xl font-semibold text-gray-900 dark:text-gray-100",children:["AED ",(l==null?void 0:l.totalLaborCost.toFixed(2))||"0.00"]})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/30 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Expense"}),e.jsxs("div",{className:"mt-1 text-2xl font-semibold text-green-600 dark:text-green-400",children:["AED ",(n.materials.reduce((i,a)=>i+Number(a.amount),0)+n.miscellaneous.reduce((i,a)=>i+Number(a.quantity)*Number(a.unitPrice),0)+((l==null?void 0:l.totalLaborCost)||0)).toFixed(2)]})]})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 px-4 py-3 flex justify-between shadow-lg",children:[e.jsx(G,{type:"button",onClick:()=>Q(`/app/project-view/${c}`),variant:"plain",children:"Cancel"}),e.jsx(G,{type:"submit",variant:"solid",color:"blue-600",loading:Y,disabled:Y,children:K?"Update Expense":"Create Expense"})]})]})}})]}):e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg",children:[e.jsx("h2",{className:"text-xl font-semibold text-red-800 dark:text-red-400 mb-2",children:"Error: Project ID Missing"}),e.jsx("p",{className:"text-red-700 dark:text-red-300",children:"Unable to load the expense form. Please ensure you're accessing this page from a valid project."}),e.jsx(G,{className:"mt-4",onClick:()=>Q("/app/projects"),variant:"solid",color:"red-600",children:"Back to Projects"})]})})};export{Nt as default};
